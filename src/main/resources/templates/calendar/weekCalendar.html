<html layout:decorate="~{/layout/layout}">
<section layout:fragment="content" class="section-prod-list ">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js"></script>
</head>
    <body>
    <div class="container mx-auto p-4">
        <div class="flex justify-between items-center mb-4">
            <button class="px-4 py-2 bg-blue-500 text-white rounded" onclick="window.location.href='/calendar/week?date=' + previousWeekDate()">이전</button>
            <h1 class="text-xl font-bold" th:text="${weekStart} + ' ~ ' + ${weekEnd}"></h1>
            <button class="px-4 py-2 bg-blue-500 text-white rounded" onclick="window.location.href='/calendar/week?date=' + nextWeekDate()">다음</button>
        </div>
        <div class="calendar-grid text-center font-bold">
            <div>일</div>
            <div>월</div>
            <div>화</div>
            <div>수</div>
            <div>목</div>
            <div>금</div>
            <div>토</div>
        </div>
        <div class="calendar-grid mt-2">
            <div th:each="day : ${weekDates}" class="p-4 border rounded bg-gray-100">
                <div class="text-right font-semibold" th:text="${day.format(T(java.time.format.DateTimeFormatter).ofPattern('MM/dd'))}"></div>
                <div th:each="event : ${weeklyCalendars}">
                    <div th:if="${event.start.toLocalDate().isEqual(day)}" class="mt-2 p-2 bg-blue-300 text-blue-900 rounded" th:text="${event.title}"></div>
                </div>
            </div>
        </div>
    </div>
    <script th:src="@{/weekcalendarjs/weekcalendar.js}"></script>
    </body>

</section>
</html>